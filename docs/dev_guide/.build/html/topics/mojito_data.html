

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
     <title>Data in Mojito</title>
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/print.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '',
        COLLAPSE_INDEX: true,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/theme_extras.js"></script>
   </head> 

     <div class="header"><h1 class="heading"><a href="#">
          <span>Mojito</span></a></h1>
      </div>
      <div class="topnav">
        <p>
        <a class="uplink" href="../">Mojito Documentation</a>
        &#160;&#160;::&#160;&#160;
        <a href="../index.html" title="Mojito">Mojito</a>
        &#160;&#160;::&#160;&#160;
        
           <a href="mojito_assets.html">Assets</a>
        &#160;&#160;::&#160;&#160;
        
        
           <a href="mojito_logging.html">Logging</a>
        
        </p>

      </div>
      <div class="content">
   <div class="section" id="data-in-mojito">
<h1>Data in Mojito<a class="headerlink" href="#data-in-mojito" title="Permalink to this headline">¶</a></h1>
<p>This chapter will first discuss how your applications can get
data and then look at how mojits can share that data with
binders, other mojits, as well as how to re-hydrate data.</p>
<div class="section" id="getting-input-and-cookie-data">
<span id="mojito-data-getting"></span><h2>Getting Input and Cookie Data<a class="headerlink" href="#getting-input-and-cookie-data" title="Permalink to this headline">¶</a></h2>
<div class="section" id="introduction">
<span id="mojito-data-intro"></span><h3>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h3>
<p>Mojito provides addons for accessing data from query string and routing
parameters, cookies, and the POST request body.</p>
<p>This section will provide an overview of the following addons that allow you
to access data:</p>
<ul class="simple">
<li><a class="reference external" href="../../api/classes/Params.common.html">Params addon</a></li>
<li><a class="reference external" href="../../api/classes/Cookie.server.html">Cookies addon</a></li>
</ul>
<p>To see examples using these addons to get data, see
<a class="reference external" href="../code_exs/query_params.html">Using Query Parameters</a> and
<a class="reference external" href="../code_exs/cookies.html">Using Cookies</a>.</p>
</div>
<div class="section" id="getting-data-from-parameters">
<span id="mojito-data-params"></span><h3>Getting Data from Parameters<a class="headerlink" href="#getting-data-from-parameters" title="Permalink to this headline">¶</a></h3>
<p>The methods in the Params addon are called from the <tt class="docutils literal"><span class="pre">params</span></tt> namespace.
As a result, the call will have the following syntax where <tt class="docutils literal"><span class="pre">ac</span></tt> is the
ActionContext object: <tt class="docutils literal"><span class="pre">ac.params.*</span></tt></p>
<div class="section" id="get">
<span id="mojito-data-params-get"></span><h4>GET<a class="headerlink" href="#get" title="Permalink to this headline">¶</a></h4>
<p>The GET parameters are the URL query string parameters. The Params addon
creates JSON using the URL query string parameters. The method <tt class="docutils literal"><span class="pre">getFromUrl</span></tt>
allows you to specify a GET parameter or get all of the GET parameters. You
can also use the alias <tt class="docutils literal"><span class="pre">url</span></tt> to get URL query string parameters.</p>
<p>For example, for the URL <tt class="docutils literal"><span class="pre">http://www.yahoo.com?foo=1&amp;bar=2</span></tt>, the Params
addon would create the following object:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
  <span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="nx">bar</span><span class="o">:</span> <span class="mi">2</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="single-parameter">
<span id="data-params-get-single"></span><h5>Single Parameter<a class="headerlink" href="#single-parameter" title="Permalink to this headline">¶</a></h5>
<p>To get the value for a specific parameter, you pass the key to the <tt class="docutils literal"><span class="pre">getFromUrl</span></tt>
method, which returns the associated value.</p>
<p>In the example controller below, the value for the <tt class="docutils literal"><span class="pre">name</span></tt> query string
parameter is retrieved:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">YUI</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;ParamsMojit&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Y</span><span class="p">,</span> <span class="nx">NAME</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">Y</span><span class="p">.</span><span class="nx">namespace</span><span class="p">(</span><span class="s1">&#39;mojito.controllers&#39;</span><span class="p">)[</span><span class="nx">NAME</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">getNameParam</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">actionContext</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">nameParam</span> <span class="o">=</span> <span class="nx">actionContext</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">getFromUrl</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">);</span>
      <span class="nx">actionContext</span><span class="p">.</span><span class="nx">done</span><span class="p">(</span>
        <span class="p">{</span>
          <span class="nx">name</span><span class="o">:</span> <span class="nx">nameParam</span>
        <span class="p">},</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">},</span> <span class="s1">&#39;0.0.1&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">requires</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;mojito-params-addon&#39;</span><span class="p">]});</span>
</pre></div>
</div>
</div>
<div class="section" id="all-parameters">
<span id="data-params-get-all"></span><h5>All Parameters<a class="headerlink" href="#all-parameters" title="Permalink to this headline">¶</a></h5>
<p>To get all of the query string parameters, you call <tt class="docutils literal"><span class="pre">getFromUrl</span></tt> or its alias
<tt class="docutils literal"><span class="pre">url</span></tt> without passing a key as a parameter.</p>
<p>In this example controller, all of the query string parameter are stored in
the <tt class="docutils literal"><span class="pre">qs_params</span></tt> array, which <tt class="docutils literal"><span class="pre">ac.done</span></tt> makes available in the template.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">YUI</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;ParamsMojit&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Y</span><span class="p">,</span> <span class="nx">NAME</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">Y</span><span class="p">.</span><span class="nx">namespace</span><span class="p">(</span><span class="s1">&#39;mojito.controllers&#39;</span><span class="p">)[</span><span class="nx">NAME</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="p">...</span>
    <span class="nx">getAllParams</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">actionContext</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">qs_params</span> <span class="o">=</span> <span class="p">[];</span>
      <span class="kd">var</span> <span class="nx">allParams</span> <span class="o">=</span> <span class="nx">actionContext</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">getFromUrl</span><span class="p">();</span>
      <span class="nx">Y</span><span class="p">.</span><span class="nb">Object</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">allParams</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">param</span><span class="p">,</span> <span class="nx">key</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">qs_params</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">key</span><span class="o">:</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">value</span><span class="o">:</span> <span class="nx">param</span><span class="p">});</span>
      <span class="p">});</span>
      <span class="nx">actionContext</span><span class="p">.</span><span class="nx">done</span><span class="p">(</span>
        <span class="p">{</span>
          <span class="nx">query_string</span><span class="o">:</span> <span class="nx">qs_params</span>
        <span class="p">},</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">},</span> <span class="s1">&#39;0.0.1&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">requires</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;mojito-params-addon&#39;</span><span class="p">]});</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="post">
<span id="mojito-data-params-post"></span><h4>POST<a class="headerlink" href="#post" title="Permalink to this headline">¶</a></h4>
<p>The POST parameters come from the HTTP POST request body and often consist of
form data. As with query string parameters, the <tt class="docutils literal"><span class="pre">Params</span></tt> addon has the method
<tt class="docutils literal"><span class="pre">getFromBody</span></tt> that allows you to specify a single parameter or get all of
the POST body parameters.</p>
<div class="section" id="single">
<span id="data-params-post-single"></span><h5>Single<a class="headerlink" href="#single" title="Permalink to this headline">¶</a></h5>
<p>To get a parameter from the POST body, call <tt class="docutils literal"><span class="pre">getFromBody</span></tt> with the key as the
parameter. You can also use the alias <tt class="docutils literal"><span class="pre">body</span></tt> to get a parameter from the POST
body.</p>
<p>In the example controller below, the POST body parameter <tt class="docutils literal"><span class="pre">name</span></tt> is retrieved
and then uses the <tt class="docutils literal"><span class="pre">done</span></tt> method to make it accessible to the template.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">YUI</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;ParamsMojit&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Y</span><span class="p">,</span> <span class="nx">NAME</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">Y</span><span class="p">.</span><span class="nx">namespace</span><span class="p">(</span><span class="s1">&#39;mojito.controllers&#39;</span><span class="p">)[</span><span class="nx">NAME</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">getPostName</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">actionContext</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">postName</span> <span class="o">=</span> <span class="nx">actionContext</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">getFromBody</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">);</span>
      <span class="nx">actionContext</span><span class="p">.</span><span class="nx">done</span><span class="p">(</span>
        <span class="p">{</span>
          <span class="nx">posted_name</span><span class="o">:</span> <span class="nx">postName</span>
        <span class="p">});</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">},</span> <span class="s1">&#39;0.0.1&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">requires</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;mojito-params-addon&#39;</span><span class="p">]});</span>
</pre></div>
</div>
</div>
<div class="section" id="all">
<span id="data-params-post-all"></span><h5>All<a class="headerlink" href="#all" title="Permalink to this headline">¶</a></h5>
<p>To get all of the parameters from the POST body, call <tt class="docutils literal"><span class="pre">getFromBody</span></tt> or <tt class="docutils literal"><span class="pre">body</span></tt>
without any parameters.</p>
<p>In the example controller below, <tt class="docutils literal"><span class="pre">getFromBody</span></tt> gets all of the POST body
parameters, which are then stored in an array and made accessible to the view
template.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">YUI</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;ParamsMojit&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Y</span><span class="p">,</span> <span class="nx">NAME</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">Y</span><span class="p">.</span><span class="nx">namespace</span><span class="p">(</span><span class="s1">&#39;mojito.controllers&#39;</span><span class="p">)[</span><span class="nx">NAME</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="p">...</span>
    <span class="nx">getAllParams</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">actionContext</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">post_params</span> <span class="o">=</span> <span class="p">[];</span>
      <span class="kd">var</span> <span class="nx">allPostParams</span> <span class="o">=</span> <span class="nx">actionContext</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">getFromBody</span><span class="p">();</span>
      <span class="nx">Y</span><span class="p">.</span><span class="nb">Object</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">allPostParams</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">param</span><span class="p">,</span> <span class="nx">key</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">post_params</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">key</span><span class="o">:</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">value</span><span class="o">:</span> <span class="nx">param</span><span class="p">});</span>
      <span class="p">});</span>
      <span class="nx">actionContext</span><span class="p">.</span><span class="nx">done</span><span class="p">(</span>
        <span class="p">{</span>
          <span class="nx">posted_params</span><span class="o">:</span> <span class="nx">post_params</span>
        <span class="p">}</span>
      <span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">},</span> <span class="s1">&#39;0.0.1&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">requires</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;mojito-params-addon&#39;</span><span class="p">]});</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="routing">
<span id="mojito-data-routing"></span><h3>Routing<a class="headerlink" href="#routing" title="Permalink to this headline">¶</a></h3>
<p>Routing parameters are mapped to routing paths, actions, and HTTP methods.
You can use the routing parameters to provide data to mojit actions when
specific routing conditions have been met.</p>
<div class="section" id="setting-routing-parameters">
<span id="data-routing-set"></span><h4>Setting Routing Parameters<a class="headerlink" href="#setting-routing-parameters" title="Permalink to this headline">¶</a></h4>
<p>The routing parameters are set in the routing configuration file
<tt class="docutils literal"><span class="pre">routes.json</span></tt>. For each defined route, you can use the <tt class="docutils literal"><span class="pre">params</span></tt>
property to set routing parameters. Because <tt class="docutils literal"><span class="pre">routes.json</span></tt> allows you
to specify mojit actions for different paths and HTTP methods, you can
set routing parameters based on the routing configuration.</p>
<p>For instance, in the <tt class="docutils literal"><span class="pre">routes.json</span></tt> below, the routing parameter <tt class="docutils literal"><span class="pre">coupon</span></tt>
is <tt class="docutils literal"><span class="pre">true</span></tt> when a POST call is made on the <tt class="docutils literal"><span class="pre">/coupon/form</span></tt>, but when a
GET call is made on the same path, <tt class="docutils literal"><span class="pre">coupon</span></tt> is <tt class="docutils literal"><span class="pre">false</span></tt>. The <tt class="docutils literal"><span class="pre">coupon</span></tt>
parameter could be used by the mojit controller to do something such as give
a coupon to a user posting information.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">&quot;settings&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;master&quot;</span><span class="p">],</span>
    <span class="s2">&quot;post&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;verbs&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;post&quot;</span><span class="p">],</span>
      <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;/coupon/form&quot;</span><span class="p">,</span>
      <span class="s2">&quot;call&quot;</span><span class="o">:</span> <span class="s2">&quot;coupon.index&quot;</span><span class="p">,</span>
      <span class="s2">&quot;params&quot;</span><span class="o">:</span> <span class="s2">&quot;coupon=true&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;get&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;verbs&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;get&quot;</span><span class="p">],</span>
      <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;/coupon/form&quot;</span><span class="p">,</span>
      <span class="s2">&quot;call&quot;</span><span class="o">:</span> <span class="s2">&quot;coupon.index&quot;</span><span class="p">,</span>
      <span class="s2">&quot;params&quot;</span><span class="o">:</span> <span class="s2">&quot;coupon=false&quot;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="getting-routing-parameters">
<span id="data-routing-get"></span><h4>Getting Routing Parameters<a class="headerlink" href="#getting-routing-parameters" title="Permalink to this headline">¶</a></h4>
<p>The Params addon has the method <tt class="docutils literal"><span class="pre">getFromRoutes</span></tt> that allows you to specify
a single parameter or get all of the routing parameters. You can also use
the alias <tt class="docutils literal"><span class="pre">route</span></tt> to get routing parameters.</p>
<div class="section" id="data-routing-get-single">
<span id="id1"></span><h5>Single<a class="headerlink" href="#data-routing-get-single" title="Permalink to this headline">¶</a></h5>
<p>To get a routing parameter, call <tt class="docutils literal"><span class="pre">getFromRoute</span></tt> with the key as the
parameter.</p>
<p>In the example controller below, the routing parameter <tt class="docutils literal"><span class="pre">coupon</span></tt> is used
to determine whether the user gets a coupon.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">YUI</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;CouponMojit&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Y</span><span class="p">,</span> <span class="nx">NAME</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">Y</span><span class="p">.</span><span class="nx">namespace</span><span class="p">(</span><span class="s1">&#39;mojito.controllers&#39;</span><span class="p">)[</span><span class="nx">NAME</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">index</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">actionContext</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">sendCoupon</span> <span class="o">=</span> <span class="nx">actionContext</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">getFromRoute</span><span class="p">(</span><span class="s1">&#39;coupon&#39;</span><span class="p">);</span>
      <span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="nx">actionContext</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">getFromBody</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">);</span>
      <span class="k">if</span><span class="p">(</span><span class="nx">sendCoupon</span><span class="p">){</span>
         <span class="c1">// Display coupon to user</span>
          <span class="kd">var</span> <span class="nx">coupon</span> <span class="o">=</span> <span class="nx">sendCoupon</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="nx">actionContext</span><span class="p">.</span><span class="nx">done</span><span class="p">(</span>
        <span class="p">{</span>
          <span class="nx">name</span><span class="o">:</span> <span class="nx">name</span> <span class="o">?</span> <span class="nx">name</span> <span class="o">:</span> <span class="s2">&quot;Dear customer&quot;</span><span class="p">;</span>
          <span class="nx">coupon</span> <span class="o">:</span> <span class="nx">coupon</span> <span class="o">?</span> <span class="nx">coupon</span> <span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
        <span class="p">});</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">},</span> <span class="s1">&#39;0.0.1&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">requires</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;mojito-params-addon&#39;</span><span class="p">]});</span>
</pre></div>
</div>
</div>
<div class="section" id="data-routing-get-all">
<span id="id2"></span><h5>All<a class="headerlink" href="#data-routing-get-all" title="Permalink to this headline">¶</a></h5>
<p>To get all of the routing parameters, call <tt class="docutils literal"><span class="pre">getFromRoute</span></tt> or <tt class="docutils literal"><span class="pre">route</span></tt> without
any arguments.</p>
<p>In the example controller below, all of the routing routing parameters to create
a URL.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">YUI</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;LinkMojit&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Y</span><span class="p">,</span> <span class="nx">NAME</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">Y</span><span class="p">.</span><span class="nx">namespace</span><span class="p">(</span><span class="s1">&#39;mojito.controllers&#39;</span><span class="p">)[</span><span class="nx">NAME</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">index</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">actionContext</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">routeParams</span> <span class="o">=</span> <span class="nx">actionContext</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">getFromRoute</span><span class="p">();</span>
      <span class="kd">var</span> <span class="nx">submitUrl</span> <span class="o">=</span> <span class="nx">actionContext</span><span class="p">.</span><span class="nx">url</span><span class="p">.</span><span class="nx">make</span><span class="p">(</span><span class="s2">&quot;myMojit&quot;</span><span class="p">,</span> <span class="s1">&#39;submit&#39;</span><span class="p">,</span> <span class="nx">routeParams</span><span class="p">);</span>
      <span class="nx">actionContext</span><span class="p">.</span><span class="nx">done</span><span class="p">(</span>
        <span class="p">{</span>
          <span class="nx">url</span><span class="o">:</span> <span class="nx">submitUrl</span>
        <span class="p">});</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">},</span> <span class="s1">&#39;0.0.1&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">requires</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;mojito-params-addon&#39;</span><span class="p">,</span> <span class="s1">&#39;mojito-url-addon&#39;</span><span class="p">]});</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="getting-all-parameters">
<span id="mojito-data-get-all"></span><h3>Getting All Parameters<a class="headerlink" href="#getting-all-parameters" title="Permalink to this headline">¶</a></h3>
<p>The Params addon also has the method <tt class="docutils literal"><span class="pre">getFromMerged</span></tt> that lets you get one or
all of the GET, POST, and routing parameters. Because all of the parameters are
merged into one collection, one parameter might be overridden by another with
the same key. You can also use the alias <tt class="docutils literal"><span class="pre">merged</span></tt> to
get one or all of the GET, POST, and routing parameters.</p>
<p>Thus, the parameter types are given the following priority:</p>
<ol class="arabic simple">
<li>routing parameters</li>
<li>GET parameters</li>
<li>POST parameters</li>
</ol>
<p>For example, if each parameter type has a <tt class="docutils literal"><span class="pre">foo</span></tt> key, the <tt class="docutils literal"><span class="pre">foo</span></tt> routing
parameter will override both the GET and POST <tt class="docutils literal"><span class="pre">foo</span></tt> parameters.</p>
<div class="section" id="mojito-data-get-single">
<span id="id3"></span><h4>Single<a class="headerlink" href="#mojito-data-get-single" title="Permalink to this headline">¶</a></h4>
<p>To get one of any of the different type of parameters, call <tt class="docutils literal"><span class="pre">getFromMerged</span></tt>
or <tt class="docutils literal"><span class="pre">merged</span></tt> with the key as the parameter.</p>
<p>In the example controller below, the <tt class="docutils literal"><span class="pre">name</span></tt> parameter is obtained using
<tt class="docutils literal"><span class="pre">getFromMerged</span></tt>.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">YUI</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;MergedParamsMojit&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Y</span><span class="p">,</span> <span class="nx">NAME</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">Y</span><span class="p">.</span><span class="nx">namespace</span><span class="p">(</span><span class="s1">&#39;mojito.controllers&#39;</span><span class="p">)[</span><span class="nx">NAME</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">getPostName</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">actionContext</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">mergedName</span> <span class="o">=</span> <span class="nx">actionContext</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">getFromMerged</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">);</span>
      <span class="nx">actionContext</span><span class="p">.</span><span class="nx">done</span><span class="p">(</span>
        <span class="p">{</span>
          <span class="nx">name</span><span class="o">:</span> <span class="nx">mergedName</span>
        <span class="p">});</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">},</span> <span class="s1">&#39;0.0.1&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">requires</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;mojito-params-addon&#39;</span><span class="p">]});</span>
</pre></div>
</div>
</div>
<div class="section" id="id4">
<span id="id5"></span><h4>All<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
<p>To get all of the GET, POST, and routing parameters, call <tt class="docutils literal"><span class="pre">getFromMerged</span></tt> or
<tt class="docutils literal"><span class="pre">merged</span></tt> without any arguments.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">YUI</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;MergedParamsMojit&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Y</span><span class="p">,</span> <span class="nx">NAME</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">Y</span><span class="p">.</span><span class="nx">namespace</span><span class="p">(</span><span class="s1">&#39;mojito.controllers&#39;</span><span class="p">)[</span><span class="nx">NAME</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="p">...</span>
    <span class="nx">getAllParams</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">actionContext</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">all_params</span> <span class="o">=</span> <span class="p">[];</span>
      <span class="kd">var</span> <span class="nx">allParams</span> <span class="o">=</span> <span class="nx">actionContext</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">getFromMerged</span><span class="p">();</span>
      <span class="nx">Y</span><span class="p">.</span><span class="nb">Object</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">allParams</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">param</span><span class="p">,</span> <span class="nx">key</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">all_params</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">key</span><span class="o">:</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">value</span><span class="o">:</span> <span class="nx">param</span><span class="p">});</span>
      <span class="p">});</span>
      <span class="nx">actionContext</span><span class="p">.</span><span class="nx">done</span><span class="p">(</span>
        <span class="p">{</span>
          <span class="nx">params</span><span class="o">:</span> <span class="nx">all_params</span>
        <span class="p">}</span>
      <span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">},</span> <span class="s1">&#39;0.0.1&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">requires</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;mojito-params-addon&#39;</span><span class="p">]});</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="params-addon-method-aliases">
<span id="mojito-params-addon-aliases"></span><h3>Params Addon Method Aliases<a class="headerlink" href="#params-addon-method-aliases" title="Permalink to this headline">¶</a></h3>
<p>We have looked at the methods of the <tt class="docutils literal"><span class="pre">Params</span></tt> addon for getting query string
parameter, query string parameters, and HTTP body data. For simplicity,
the <tt class="docutils literal"><span class="pre">Params</span></tt> addon also provides the aliases below
for the methods that we have covered thus far.</p>
<table border="1" class="docutils">
<colgroup>
<col width="60%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head">Alias</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">getAll</span></tt></td>
<td><tt class="docutils literal"><span class="pre">all</span></tt></td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">getFromBody</span></tt></td>
<td><tt class="docutils literal"><span class="pre">body</span></tt></td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">getFromFiles</span></tt></td>
<td><tt class="docutils literal"><span class="pre">files</span></tt></td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">getFromMerged</span></tt></td>
<td><tt class="docutils literal"><span class="pre">merged</span></tt></td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">getfromRoute</span></tt></td>
<td><tt class="docutils literal"><span class="pre">route</span></tt></td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">getFromUrl</span></tt></td>
<td><tt class="docutils literal"><span class="pre">url</span></tt></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="cookies">
<span id="mojito-data-cookie"></span><h3>Cookies<a class="headerlink" href="#cookies" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference external" href="../../api/classes/Cookie.server.html">Cookies addon</a> offers methods for
reading and writing cookies. The API of the Cookie addon is the same as
the <a class="reference external" href="http://yuilibrary.com/yui/docs/api/classes/Cookie.html">YUI 3 Cookie Utility</a>.
For a code example showing how to use the Cookies addon,
see <a class="reference external" href="../code_exs/cookies.html">Using Cookies</a>.</p>
<div class="section" id="getting-cookie-data">
<span id="data-cookie-get"></span><h4>Getting Cookie Data<a class="headerlink" href="#getting-cookie-data" title="Permalink to this headline">¶</a></h4>
<p>The method <tt class="docutils literal"><span class="pre">cookie.get(name)</span></tt> is used to get the cookie value associated
with <tt class="docutils literal"><span class="pre">name</span></tt>. In the example controller below, the cookie value
for <tt class="docutils literal"><span class="pre">'user'</span></tt> is obtained and then used to pass user information to the
template.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">YUI</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;CookieMojit&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Y</span><span class="p">,</span> <span class="nx">NAME</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">Y</span><span class="p">.</span><span class="nx">namespace</span><span class="p">(</span><span class="s1">&#39;mojito.controllers&#39;</span><span class="p">)[</span><span class="nx">NAME</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">index</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">actionContext</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">user</span> <span class="o">=</span> <span class="nx">actionContext</span><span class="p">.</span><span class="nx">cookie</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">);</span>
        <span class="nx">actionContext</span><span class="p">.</span><span class="nx">done</span><span class="p">(</span>
          <span class="p">{</span>
            <span class="nx">user</span><span class="o">:</span> <span class="nx">user</span> <span class="o">&amp;&amp;</span> <span class="nx">users</span><span class="p">[</span><span class="nx">user</span><span class="p">]</span> <span class="o">?</span> <span class="nx">users</span><span class="p">[</span><span class="nx">user</span><span class="p">]</span> <span class="o">:</span> <span class="s2">&quot;&quot;</span>
          <span class="p">}</span>
        <span class="p">);</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">},</span> <span class="s1">&#39;0.0.1&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">requires</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;mojito-cookie-addon&#39;</span><span class="p">]});</span>
</pre></div>
</div>
</div>
<div class="section" id="writing-data-to-cookies">
<span id="data-cookies-write"></span><h4>Writing Data to Cookies<a class="headerlink" href="#writing-data-to-cookies" title="Permalink to this headline">¶</a></h4>
<p>The method <tt class="docutils literal"><span class="pre">cookie.set(name,</span> <span class="pre">value)</span></tt> is used to set a cookie with the a
given name and value.  The following example controller sets a cookie
with the name <tt class="docutils literal"><span class="pre">'user'</span></tt> if one does not exist.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">YUI</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;CookieMojit&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Y</span><span class="p">,</span> <span class="nx">NAME</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">Y</span><span class="p">.</span><span class="nx">namespace</span><span class="p">(</span><span class="s1">&#39;mojito.controllers&#39;</span><span class="p">)[</span><span class="nx">NAME</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">index</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">actionContext</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">user</span> <span class="o">=</span> <span class="nx">actionContext</span><span class="p">.</span><span class="nx">cookie</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">);</span>
      <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">user</span><span class="p">){</span>
        <span class="nx">actionContext</span><span class="p">.</span><span class="nx">cookie</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">,(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">).</span><span class="nx">getTime</span><span class="p">());</span>
      <span class="p">}</span>
      <span class="nx">actionContext</span><span class="p">.</span><span class="nx">done</span><span class="p">(</span>
        <span class="p">{</span>
          <span class="nx">user</span><span class="o">:</span> <span class="nx">user</span>
        <span class="p">}</span>
      <span class="p">);</span>
     <span class="p">}</span>
  <span class="p">}</span>
<span class="p">},</span> <span class="s1">&#39;0.0.1&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">requires</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;mojito-cookie-addon&#39;</span><span class="p">]});</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="sharing-data">
<span id="mojito-data-sharing"></span><h2>Sharing Data<a class="headerlink" href="#sharing-data" title="Permalink to this headline">¶</a></h2>
<div class="section" id="overview">
<h3>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h3>
<p>After a mojit gets data, it may need to share that data with binders, templates, or other
mojits. Mojito provides the <tt class="docutils literal"><span class="pre">Data</span></tt> addon that allows your mojit controllers and binders
to share and access data.
Data can also be refreshed in templates using the <tt class="docutils literal"><span class="pre">Data</span></tt> addon
and Handlebars expressions.</p>
<div class="section" id="how-is-data-shared">
<span id="mojito-data-sharing-how"></span><h4>How Is Data Shared?<a class="headerlink" href="#how-is-data-shared" title="Permalink to this headline">¶</a></h4>
<p>Data is passed from the server to the client and vice versa using a remote procedural
call (RPC) through a tunnel. During this transmission, the state of the data is preserved.
When content is sent to the client as part of the page, the data and templates are rendered
on the server and sent to the client through the tunnel. After the initial rendering, each
time the mojit instance invokes an action that triggers an RPC through the tunnel, data is
serialized and sent to the server, where the instance is recreated with the data. If the
action changes the data model, the new data is then sent back through the tunnel to the
client to update the data model.</p>
</div>
<div class="section" id="benefits">
<h4>Benefits<a class="headerlink" href="#benefits" title="Permalink to this headline">¶</a></h4>
<p>The data sharing model used in Mojito is extremely flexible, allowing you to share data
in your application in many ways. We&#8217;ll look at how data is shared from the perspective
of controllers and binders, which have access to the <tt class="docutils literal"><span class="pre">Data</span></tt> addon.</p>
<div class="section" id="controllers">
<h5>Controllers<a class="headerlink" href="#controllers" title="Permalink to this headline">¶</a></h5>
<p>Controllers can share data in the following ways:</p>
<ul class="simple">
<li>rehydrate data of its template or all the templates on the page</li>
<li>share data with its binders or all the other mojit binders on the page</li>
</ul>
</div>
<div class="section" id="binders">
<h5>Binders<a class="headerlink" href="#binders" title="Permalink to this headline">¶</a></h5>
<p>Binders can do the following to share/access data:</p>
<ul class="simple">
<li>invoke an action to update data for another binder that is listening for changes in that
data to update the view</li>
<li>rehydrate data in templates</li>
<li>share data with other binders on the page</li>
</ul>
</div>
</div>
<div class="section" id="potential-issues">
<h4>Potential Issues<a class="headerlink" href="#potential-issues" title="Permalink to this headline">¶</a></h4>
<p>When using the <tt class="docutils literal"><span class="pre">Data</span></tt> addon to share data, you should be aware of a couple of potential
issues. When multiple RPCs are made (e.g., multiple clicks on the same button), there is no
guarantee of the order of execution of the requests, which means you might get stale
data. Also, if your data model contains a lot of information, the payload of the RPC
will negatively affect performance and security as data is transmitted back and forth
between the client and server.</p>
</div>
</div>
<div class="section" id="data-addon">
<span id="mojito-data-sharing-data-addon"></span><h3>Data Addon<a class="headerlink" href="#data-addon" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">Data</span></tt> addon is available through the <tt class="docutils literal"><span class="pre">ActionContext</span></tt> and <tt class="docutils literal"><span class="pre">mojitProxy</span></tt> objects
from the controller and binders respectively. Because the addon has two different
functions, allowing data to be shared from the server to the client and allowing one
mojit to share data with other mojits, the addon has the two objects <tt class="docutils literal"><span class="pre">data</span></tt> and
<tt class="docutils literal"><span class="pre">pageData</span></tt>.</p>
<p>Both  <tt class="docutils literal"><span class="pre">data</span></tt> and <tt class="docutils literal"><span class="pre">pageData</span></tt> are fully functional <a class="reference external" href="http://yuilibrary.com/yui/docs/model/">Y.Model instances
on the client</a>, which enables listening for
data changes and refreshing data on the page.</p>
<table border="1" class="docutils" id="data-addon-obj-table">
<caption>Data Addon Objects</caption>
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Object</th>
<th class="head">Available Methods</th>
<th class="head">Scope</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>pageData</td>
<td>get, set</td>
<td>Page-Level</td>
<td>Allows you to share data with other mojits on a page.</td>
</tr>
<tr class="row-odd"><td>data</td>
<td>get, set</td>
<td>Mojit-Level</td>
<td>Allows a controller to share data with its binders and templates.</td>
</tr>
</tbody>
</table>
<div class="section" id="requiring-data-addon">
<span id="data-addon-requiring"></span><h4>Requiring Data Addon<a class="headerlink" href="#requiring-data-addon" title="Permalink to this headline">¶</a></h4>
<p>The Data addon is required liked other addons in the controller by
specifying the addon as a string in the <tt class="docutils literal"><span class="pre">required</span></tt> array:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">},</span> <span class="s1">&#39;0.0.1&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">requires</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;mojito-data-addon&#39;</span><span class="p">]});</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You don&#8217;t need to require the addon in binders.</p>
</div>
</div>
</div>
<div class="section" id="mojits-sharing-data-with-its-binders-and-templates">
<span id="mojito-data-sharing-server-client"></span><h3>Mojits Sharing Data With Its Binders and Templates<a class="headerlink" href="#mojits-sharing-data-with-its-binders-and-templates" title="Permalink to this headline">¶</a></h3>
<p>As you saw in the <em class="xref std std-ref">Data Addon Objects table</em>, the scope of the <tt class="docutils literal"><span class="pre">data</span></tt> object is
limited to a mojit. In other words, the controller can use the <tt class="docutils literal"><span class="pre">data</span></tt> object to share
data with its binder or templates, but not with other mojits. When you set data
with <tt class="docutils literal"><span class="pre">ac.data.set(key,</span> <span class="pre">value)</span></tt>, the data is merged with the data passed to <tt class="docutils literal"><span class="pre">ac.done</span></tt>
(this is a shallow merge).  The data is also serialized and rehydrated
on the client when the page is rendered in the browser.</p>
<p>From the controller, you use <tt class="docutils literal"><span class="pre">ac.data.set</span></tt> to set or expose data that the binder
can access with the <tt class="docutils literal"><span class="pre">mojitProxy</span></tt> object. The <tt class="docutils literal"><span class="pre">mojitProxy</span></tt> accesses the
set data with the <tt class="docutils literal"><span class="pre">data</span></tt> object as well with <tt class="docutils literal"><span class="pre">mojitProxy.data.get</span></tt>. Templates can
have Handlebars expressions to inject the set data into a page.</p>
<p>The following example shows you how you would set data and then access it from the binder
or the template.</p>
<div class="section" id="example">
<span id="server-client-ex"></span><h4>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h4>
<p>The example below shows how a mojit controller can share stock price information
with its binder code and templates. This example shows how to access the shared data
with both Handlebars expressions and using <tt class="docutils literal"><span class="pre">mojitProxy.pageData</span></tt> in the binder.
In reality, you would only need to use one of these methods, with the former (Handlebars
expressions) being the preferred way.</p>
<div class="section" id="mojits-stockquotes-controller-server-js">
<span id="server-client-ex-controller"></span><h5>mojits/StockQuotes/controller.server.js<a class="headerlink" href="#mojits-stockquotes-controller-server-js" title="Permalink to this headline">¶</a></h5>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">YUI</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;StockQuotes&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Y</span><span class="p">,</span> <span class="nx">NAME</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">Y</span><span class="p">.</span><span class="nx">namespace</span><span class="p">(</span><span class="s1">&#39;mojito.controllers&#39;</span><span class="p">)[</span><span class="nx">NAME</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">index</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ac</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// Model gets stock quote prices</span>
      <span class="nx">ac</span><span class="p">.</span><span class="nx">models</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;StockQuotesModel&#39;</span><span class="p">).</span><span class="nx">getData</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">ac</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
          <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="c1">// The data object allows the controller to set/expose the</span>
        <span class="c1">// variable stock_quotes that the binder and templates can access.</span>
        <span class="nx">ac</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;stock_quotes&#39;</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
        <span class="nx">ac</span><span class="p">.</span><span class="nx">done</span><span class="p">({</span>
          <span class="nx">title</span><span class="o">:</span> <span class="s2">&quot;Stock Quotes&quot;</span>
        <span class="p">});</span>
      <span class="p">});</span>
    <span class="p">}</span>
  <span class="p">};</span>
<span class="p">},</span> <span class="s1">&#39;0.0.1&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">requires</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;mojito&#39;</span><span class="p">,</span> <span class="s1">&#39;mojito-models-addon&#39;</span><span class="p">,</span> <span class="s1">&#39;StockQuotesModel&#39;</span><span class="p">,</span> <span class="s1">&#39;mojito-data-addon&#39;</span><span class="p">]});</span>
</pre></div>
</div>
</div>
<div class="section" id="mojits-stockquotes-binders-binder-js">
<span id="server-client-ex-binder"></span><h5>mojits/StockQuotes/binders/binder.js<a class="headerlink" href="#mojits-stockquotes-binders-binder-js" title="Permalink to this headline">¶</a></h5>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">YUI</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;StockQuotesBinderIndex&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Y</span><span class="p">,</span> <span class="nx">NAME</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">Y</span><span class="p">.</span><span class="nx">namespace</span><span class="p">(</span><span class="s1">&#39;mojito.binders&#39;</span><span class="p">)[</span><span class="nx">NAME</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">init</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">mojitProxy</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">mojitProxy</span> <span class="o">=</span> <span class="nx">mojitProxy</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="nx">bind</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// From the mojitProxy, you use the data object to get the</span>
      <span class="c1">// value for stock_quotes that was set in the controller.</span>
      <span class="kd">var</span> <span class="nx">me</span> <span class="o">=</span> <span class="k">this</span><span class="p">,</span>
          <span class="nx">stock_quotes</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">mojitProxy</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;stock_quotes&#39;</span><span class="p">);</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">node</span> <span class="o">=</span> <span class="nx">node</span><span class="p">;</span>
      <span class="kd">var</span> <span class="nx">list</span> <span class="o">=</span> <span class="s2">&quot;&lt;ul&gt;&quot;</span><span class="p">;</span>
      <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">s</span> <span class="k">in</span> <span class="nx">stock_list</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">list</span> <span class="o">+=</span> <span class="s2">&quot;&lt;li&gt;&quot;</span> <span class="o">+</span> <span class="nx">s</span> <span class="o">+</span> <span class="s2">&quot;: $&quot;</span> <span class="o">+</span> <span class="nx">stock_list</span><span class="p">[</span><span class="nx">s</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;&lt;/li&gt;&quot;</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="nx">list</span> <span class="o">+=</span> <span class="s2">&quot;&lt;/ul&gt;&quot;</span><span class="p">;</span>
      <span class="nx">node</span><span class="p">.</span><span class="nx">one</span><span class="p">(</span><span class="s1">&#39;#stocks p&#39;</span><span class="p">).</span><span class="nx">setHTML</span><span class="p">(</span><span class="nx">list</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">};</span>
<span class="p">},</span> <span class="s1">&#39;0.0.1&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">requires</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;event-mouseenter&#39;</span><span class="p">,</span> <span class="s1">&#39;mojito-client&#39;</span><span class="p">]});</span>
</pre></div>
</div>
</div>
<div class="section" id="mojits-stockquotes-views-index-hb-html">
<span id="server-client-ex-template"></span><h5>mojits/StockQuotes/views/index.hb.html<a class="headerlink" href="#mojits-stockquotes-views-index-hb-html" title="Permalink to this headline">¶</a></h5>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;{{mojit_view_id}}&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;h2&gt;</span>{{title}}<span class="nt">&lt;/h2&gt;</span>
  <span class="nt">&lt;ul&gt;</span>
  <span class="c">&lt;!-- The Handlebars block helper can iterate through the data</span>
<span class="c">       made available through ac.data.set in the controller.</span>
<span class="c">  --&gt;</span>
  {{#each stock_quotes}}
    <span class="nt">&lt;li&gt;</span>{{.}}<span class="nt">&lt;/li&gt;</span>
   {{/each}}
  <span class="nt">&lt;/ul&gt;</span>
  <span class="c">&lt;!-- Binder attaches the stock prices to the div container --&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;stocks&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;p&gt;&lt;/p&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="sharing-page-data">
<span id="mojito-data-sharing-page-data"></span><h3>Sharing Page Data<a class="headerlink" href="#sharing-page-data" title="Permalink to this headline">¶</a></h3>
<p>Page data simply means data that is scoped to the mojits within a page.
The <tt class="docutils literal"><span class="pre">Data</span></tt> addon provides the <tt class="docutils literal"><span class="pre">pageData</span></tt> object, based on the
<a class="reference external" href="http://yuilibrary.com/yui/docs/model/">YUI Model API</a>, which has a <tt class="docutils literal"><span class="pre">set</span></tt> method
for setting or exposing data that other mojits on the page can access through the
<tt class="docutils literal"><span class="pre">get</span></tt> method.</p>
<p>The <tt class="docutils literal"><span class="pre">pageData</span></tt> object is unique to each request, but is the one store for all mojits
of the request, allowing it to share data between mojits in a page. Binders
can access page data with <tt class="docutils literal"><span class="pre">mojitProxy.pageData.get(name)</span></tt>. Templates can use
Handlebars to access page data as well, so the page data set with <tt class="docutils literal"><span class="pre">ac.pageData.set('name',</span> <span class="pre">'foo')</span></tt>
from one mojit can be added the the template of another mojit with <tt class="docutils literal"><span class="pre">{{name}}</span></tt>.</p>
<div class="section" id="page-object">
<span id="page-data-page-obj"></span><h4>page Object<a class="headerlink" href="#page-object" title="Permalink to this headline">¶</a></h4>
<div class="section" id="page-obj-overview">
<span id="id8"></span><h5>Overview<a class="headerlink" href="#page-obj-overview" title="Permalink to this headline">¶</a></h5>
<p>The <tt class="docutils literal"><span class="pre">page</span></tt> object contains all of the page data set by controllers. Templates
can use <tt class="docutils literal"><span class="pre">{{page}}</span></tt> to access all of the available page data. The <tt class="docutils literal"><span class="pre">page</span></tt>
object is built on the server and then sent to the client, so the page data can
be shared and also <em>re-hydrate</em> the data on the page.</p>
<p>The <tt class="docutils literal"><span class="pre">pageData</span></tt> object serves as a mechanism for all mojits to access data in the
<tt class="docutils literal"><span class="pre">page</span></tt> object from the client or server. Both <tt class="docutils literal"><span class="pre">ac.pageData</span></tt> and <tt class="docutils literal"><span class="pre">mojitProxy.pageData</span></tt>
provide access to the same page model.</p>
</div>
<div class="section" id="how-it-s-created">
<span id="page-obj-creation"></span><h5>How It&#8217;s Created<a class="headerlink" href="#how-it-s-created" title="Permalink to this headline">¶</a></h5>
<p>In the controller, when data is passed to <tt class="docutils literal"><span class="pre">ac.done</span></tt> or set through the <tt class="docutils literal"><span class="pre">data</span></tt>
or <tt class="docutils literal"><span class="pre">pageData</span></tt> namespace, Mojito wraps that data in the object <tt class="docutils literal"><span class="pre">this.page</span></tt>.
As a result of this wrapper, you can in fact also access data passed to <tt class="docutils literal"><span class="pre">ac.done</span></tt> or
set with the <tt class="docutils literal"><span class="pre">Data</span></tt> addon through <tt class="docutils literal"><span class="pre">this.page</span></tt>. For example, the data passed to the template with either
<tt class="docutils literal"><span class="pre">ac.done({</span> <span class="pre">stock_list:</span> <span class="pre">[&quot;YHOO&quot;,</span> <span class="pre">&quot;GOOG&quot;,</span> <span class="pre">&quot;CSCO&quot;]})</span></tt> or
<tt class="docutils literal"><span class="pre">ac.pagedata.set('stock_list',</span> <span class="pre">[&quot;YHOO&quot;,</span> <span class="pre">&quot;GOOG&quot;,</span> <span class="pre">&quot;CSCO&quot;])</span></tt> can be accessed in the template
with <tt class="docutils literal"><span class="pre">{{stock_list}}</span></tt> or <tt class="docutils literal"><span class="pre">{{this.page.stock_list}}</span></tt>.</p>
</div>
<div class="section" id="caveats">
<span id="id9"></span><h5>Caveats<a class="headerlink" href="#caveats" title="Permalink to this headline">¶</a></h5>
<p>Because Mojito creates this <tt class="docutils literal"><span class="pre">page</span></tt> object for you to share data, you <strong>do not</strong> want
to create your own <tt class="docutils literal"><span class="pre">page</span></tt> object and pass it to <tt class="docutils literal"><span class="pre">ac.done</span></tt> because it will
ovverride any page data set with <tt class="docutils literal"><span class="pre">pageData.set</span></tt>.</p>
</div>
</div>
<div class="section" id="page-data-ex">
<span id="id10"></span><h4>Example<a class="headerlink" href="#page-data-ex" title="Permalink to this headline">¶</a></h4>
<p>In this example, we&#8217;re expanding on the idea of sharing stock price information.
The <tt class="docutils literal"><span class="pre">StockQuoteMojit</span></tt> mojit shares the stock price quotes with other mojits
with the <tt class="docutils literal"><span class="pre">pageData</span></tt>.</p>
<p>As with previous example, we show how to access and attach shared data to the page with
the binder and the template, but in your applications, you would normally only
use one method, and the template approach is preferred.</p>
<div class="section" id="page-data-ex-controller">
<span id="id11"></span><h5>mojits/StockQuotes/controller.server.js<a class="headerlink" href="#page-data-ex-controller" title="Permalink to this headline">¶</a></h5>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">YUI</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;StockQuotes&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Y</span><span class="p">,</span> <span class="nx">NAME</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">Y</span><span class="p">.</span><span class="nx">namespace</span><span class="p">(</span><span class="s1">&#39;mojito.controllers&#39;</span><span class="p">)[</span><span class="nx">NAME</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">index</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ac</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// Model gets stock quote prices</span>
      <span class="nx">ac</span><span class="p">.</span><span class="nx">models</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;StockQuotesModel&#39;</span><span class="p">).</span><span class="nx">getData</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">ac</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
          <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="c1">// The `pageData` object allows the controller to set/expose the</span>
        <span class="c1">// variable stock_quotes other mojits on the page can access.</span>
        <span class="nx">ac</span><span class="p">.</span><span class="nx">pageData</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;stock_quotes&#39;</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
        <span class="nx">ac</span><span class="p">.</span><span class="nx">done</span><span class="p">({</span>
          <span class="nx">title</span><span class="o">:</span> <span class="s2">&quot;Stock Quotes&quot;</span>
        <span class="p">});</span>
      <span class="p">});</span>
    <span class="p">}</span>
  <span class="p">};</span>
<span class="p">},</span> <span class="s1">&#39;0.0.1&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">requires</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;mojito&#39;</span><span class="p">,</span> <span class="s1">&#39;mojito-models-addon&#39;</span><span class="p">,</span> <span class="s1">&#39;StockQuotesModel&#39;</span><span class="p">,</span> <span class="s1">&#39;mojito-data-addon&#39;</span><span class="p">]});</span>
</pre></div>
</div>
</div>
<div class="section" id="mojits-stockquotes-binders-index-js">
<span id="page-data-ex-binder"></span><h5>mojits/StockQuotes/binders/index.js<a class="headerlink" href="#mojits-stockquotes-binders-index-js" title="Permalink to this headline">¶</a></h5>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">YUI</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;StockQuotesBinderIndex&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Y</span><span class="p">,</span> <span class="nx">NAME</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">Y</span><span class="p">.</span><span class="nx">namespace</span><span class="p">(</span><span class="s1">&#39;mojito.binders&#39;</span><span class="p">)[</span><span class="nx">NAME</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">init</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">mojitProxy</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">mojitProxy</span> <span class="o">=</span> <span class="nx">mojitProxy</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="nx">bind</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">ticker</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
      <span class="c1">// From the mojitProxy, you use the data object to get the</span>
      <span class="c1">// value for stock_quotes that was set in the controller.</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">mojitProxy</span><span class="p">.</span><span class="nx">pageData</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;change&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
         <span class="kd">var</span> <span class="nx">ticker</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">changed</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">node</span> <span class="o">=</span> <span class="nx">node</span><span class="p">;</span>
      <span class="kd">var</span> <span class="nx">list</span> <span class="o">=</span> <span class="s2">&quot;&lt;ul&gt;&quot;</span><span class="p">;</span>
      <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">s</span> <span class="k">in</span> <span class="nx">stock_list</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">list</span> <span class="o">+=</span> <span class="s2">&quot;&lt;li&gt;&quot;</span> <span class="o">+</span> <span class="nx">s</span> <span class="o">+</span> <span class="s2">&quot;: $&quot;</span> <span class="o">+</span> <span class="nx">stock_list</span><span class="p">[</span><span class="nx">s</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;&lt;/li&gt;&quot;</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="nx">list</span> <span class="o">+=</span> <span class="s2">&quot;&lt;/ul&gt;&quot;</span><span class="p">;</span>
      <span class="nx">node</span><span class="p">.</span><span class="nx">one</span><span class="p">(</span><span class="s1">&#39;#stocks p&#39;</span><span class="p">).</span><span class="nx">setHTML</span><span class="p">(</span><span class="nx">list</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">};</span>
<span class="p">},</span> <span class="s1">&#39;0.0.1&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">requires</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;event-mouseenter&#39;</span><span class="p">,</span> <span class="s1">&#39;mojito-client&#39;</span><span class="p">]});</span>
</pre></div>
</div>
</div>
<div class="section" id="mojits-stockticker-binders-binder-js">
<span id="page-data-ex2-binder"></span><h5>mojits/StockTicker/binders/binder.js<a class="headerlink" href="#mojits-stockticker-binders-binder-js" title="Permalink to this headline">¶</a></h5>
<p>In this binder, we are using an event handler to listen for updates to data. To listen
to changes to any data set, you can use <tt class="docutils literal"><span class="pre">mojitProxy.data.on('change',</span> <span class="pre">doSomething)</span></tt>.
This example listens for changes to <tt class="docutils literal"><span class="pre">ticker_list</span></tt>.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">YUI</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;StockTickerBinderIndex&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Y</span><span class="p">,</span> <span class="nx">NAME</span><span class="p">)</span> <span class="p">{</span>

  <span class="nx">Y</span><span class="p">.</span><span class="nx">namespace</span><span class="p">(</span><span class="s1">&#39;mojito.binders&#39;</span><span class="p">)[</span><span class="nx">NAME</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">init</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">mojitProxy</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">mojitProxy</span> <span class="o">=</span> <span class="nx">mojitProxy</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="nx">bind</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">)</span> <span class="p">{</span>
       <span class="c1">// Listen for updates</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">mojitProxy</span><span class="p">.</span><span class="nx">pageData</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;ticker_listChange&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span>
        <span class="kd">var</span> <span class="nx">ul</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">one</span><span class="p">(</span><span class="s2">&quot;#ticker&quot;</span><span class="p">),</span>
            <span class="nx">items</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">newVal</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="k">in</span> <span class="nx">items</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">ul</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;&lt;li&gt;&quot;</span> <span class="o">+</span> <span class="nx">items</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;&lt;/li&gt;&quot;</span><span class="p">);</span>
        <span class="p">}</span>
      <span class="p">});</span>
    <span class="p">}</span>
  <span class="p">};</span>
<span class="p">},</span> <span class="s1">&#39;0.0.1&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">requires</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;event-mouseenter&#39;</span><span class="p">,</span> <span class="s1">&#39;mojito-client&#39;</span><span class="p">]});</span>
</pre></div>
</div>
</div>
<div class="section" id="mojits-ticker-views-index-hb-html">
<span id="page-data-ex-template"></span><h5>mojits/Ticker/views/index.hb.html<a class="headerlink" href="#mojits-ticker-views-index-hb-html" title="Permalink to this headline">¶</a></h5>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;{{mojit_view_id}}&quot;</span><span class="nt">&gt;</span>
  <span class="c">&lt;!-- Here we iterate through the data</span>
<span class="c">       made available through ac.pageData.set in the controller of</span>
<span class="c">       another mojit.</span>
<span class="c">       Note: `stock_quotes` is wrapped in `this.page`, Thus</span>
<span class="c">       you could use `{{#each this.page.stock_quotes}}`, too.</span>
<span class="c">  --&gt;</span>
    {{#each stock_quotes}}
      <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;http://finance.yahoo.com/q?s={{.}}&quot;</span><span class="nt">&gt;</span>{{.}}<span class="nt">&lt;/a&gt;</span> |<span class="ni">&amp;nbsp;</span>
     {{/each}}
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>

   </div>

